## 每个人都应该知道的数字

**典型操作所需的时长。迪恩博士给出了如下列表：**

- L1 高速缓存引用 0.5 纳秒  

- 分支预测错误 5 纳秒  

- L2 高速缓存引用 7 纳秒  

- 互斥锁的锁定/解锁 100 纳秒  

- 主内存引用 100 纳秒  

- 用 Zippy 压缩 1K 字节 10 毫秒  

- 通过 1Gbps 网络发送 2K 字节 20 毫秒  

- 从内存顺序读取 1MB 250 毫秒  

- 在同一数据中心内往返 500 毫秒  

- 磁盘寻道 10 毫秒  

- 从网络顺序读取 1MB 10 毫秒  

- 从磁盘顺序读取 1MB 30 毫秒  

- 从加利福尼亚发送数据包至荷兰再返回加利福尼亚 150 毫秒
  
  

**一些需要注意的事项：**

- 注意不同选项性能的量级差异。

- 数据中心距离很远，所以在它们之间发送任何东西都需要很长时间。

- 内存速度快，磁盘速度慢。

- 通过使用一种廉价的压缩算法，可以节省大量（两倍）的网络带宽。

- 写入的成本是读取的 40 倍。

- 全局共享数据成本高昂。这是分布式系统的一个基本限制。在共享且写入频繁的对象中的锁竞争会降低性能，因为事务会变得序列化且缓慢。

- 为扩展写入进行架构设计。

- 针对低写入竞争进行优化。

- 进行广泛优化。尽可能使写入并行。



> 来源：https://highscalability.com/google-pro-tip-use-back-of-the-envelope-calculations-to-choo/
